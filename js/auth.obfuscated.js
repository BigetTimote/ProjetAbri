const a0_0x3f63e8=a0_0x5a0c;(function(_0x609dba,_0x49ca73){const _0x4858ea=a0_0x5a0c,_0x624eac=_0x609dba();while(!![]){try{const _0x588571=-parseInt(_0x4858ea(0xc9))/0x1*(-parseInt(_0x4858ea(0xae))/0x2)+-parseInt(_0x4858ea(0x117))/0x3*(parseInt(_0x4858ea(0xb8))/0x4)+parseInt(_0x4858ea(0x110))/0x5+parseInt(_0x4858ea(0xb7))/0x6*(parseInt(_0x4858ea(0xb9))/0x7)+-parseInt(_0x4858ea(0x105))/0x8*(-parseInt(_0x4858ea(0xf7))/0x9)+-parseInt(_0x4858ea(0x116))/0xa*(parseInt(_0x4858ea(0x101))/0xb)+-parseInt(_0x4858ea(0xbc))/0xc;if(_0x588571===_0x49ca73)break;else _0x624eac['push'](_0x624eac['shift']());}catch(_0x310b9b){_0x624eac['push'](_0x624eac['shift']());}}}(a0_0x4c81,0x7816d));const a0_0x58bcec=(function(){let _0x4d7728=!![];return function(_0x47392b,_0x39a91e){const _0xa48664=_0x4d7728?function(){const _0x318fbd=a0_0x5a0c;if(_0x39a91e){const _0x18763b=_0x39a91e[_0x318fbd(0xac)](_0x47392b,arguments);return _0x39a91e=null,_0x18763b;}}:function(){};return _0x4d7728=![],_0xa48664;};}()),a0_0x53c679=a0_0x58bcec(this,function(){const _0x2c2133=a0_0x5a0c;return a0_0x53c679['toString']()[_0x2c2133(0xbd)](_0x2c2133(0x109))[_0x2c2133(0xba)]()[_0x2c2133(0xe0)](a0_0x53c679)[_0x2c2133(0xbd)](_0x2c2133(0x109));});a0_0x53c679();const API_URL=a0_0x3f63e8(0x10a);function getPayload(_0x1e3f88){const _0x524758=a0_0x3f63e8;try{const _0x470da4=_0x1e3f88[_0x524758(0xeb)]('.')[0x1],_0x4e4603=_0x470da4[_0x524758(0x10e)](/-/g,'+')[_0x524758(0x10e)](/_/g,'/');return JSON[_0x524758(0xe7)](window[_0x524758(0xfc)](_0x4e4603));}catch(_0x3b3b40){return null;}}function formatTime(_0x1ea5d5){const _0x2e7517=a0_0x3f63e8,_0x56cc96=Math[_0x2e7517(0xe5)](_0x1ea5d5/0x3c),_0xfe4b53=_0x1ea5d5%0x3c;return _0x56cc96+':'+(_0xfe4b53<0xa?'0'+_0xfe4b53:_0xfe4b53);}async function register(){const _0x4e3555=a0_0x3f63e8,_0x578ce1=document[_0x4e3555(0xe8)](_0x4e3555(0xf3))[_0x4e3555(0xcc)],_0xd12998=document[_0x4e3555(0xe8)](_0x4e3555(0xd7))['value'],_0x4f4363=document[_0x4e3555(0xe8)](_0x4e3555(0xf5))[_0x4e3555(0xcc)];if(!_0x578ce1||!_0x4f4363)return alert(_0x4e3555(0xb3));try{const _0x353b58=await fetch(API_URL+_0x4e3555(0xdb),{'method':_0x4e3555(0xd5),'headers':{'Content-Type':'application/json'},'body':JSON[_0x4e3555(0xdd)]({'nom':_0x578ce1,'prenom':_0xd12998,'password':_0x4f4363})}),_0xc5c81e=await _0x353b58[_0x4e3555(0x119)]();_0x353b58['ok']?(alert(_0x4e3555(0xf9)),location[_0x4e3555(0xb6)]()):alert(_0xc5c81e[_0x4e3555(0xc5)]||_0x4e3555(0xd3));}catch(_0x43de0c){alert(_0x4e3555(0xb1));}}function a0_0x4c81(){const _0x157767=['replace','Connecté\x20au\x20temps\x20réel','2462060KgnVCD','data','green','warn','target','send','23570FmAEGD','130776zjkaEy','to-reg','json','apply','index.html','2emMvEB','type','application/json','Le\x20serveur\x20Node\x20ne\x20répond\x20pas\x20sur\x20le\x20port\x203000','add','Nom\x20et\x20mot\x20de\x20passe\x20requis\x20!','log','login-pass','reload','6zxkrlT','36YjWiVa','1230852WlJgBt','toString','Erreur\x20route\x20logout\x20(pas\x20grave)\x20:','10474668FOazWt','search','admin-name','onload','login-user','register-form','user-dashboard','/logout','getItem','error','user_id_actuel','red','Erreur\x20lors\x20du\x20chargement\x20des\x20boxes\x20:','736815tyehzs','etat','Actualisation\x20automatique...','value','forEach','contains','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Erreur\x20chargement\x20utilisateurs\x20:','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:8px;\x20border:1px\x20solid\x20#ddd;\x22>','Hello\x20Server!','Erreur\x20lors\x20de\x20l\x27inscription','/login','POST','addEventListener','reg-prenom','user-name','click','Token\x20supprimé,\x20redirection...','/register','login-form','stringify',':3000','Bearer\x20','constructor','classList','username','preventDefault','3.\x20CLIC\x20DÉTECTÉ\x20SUR\x20LE\x20BOUTON\x20LOGOUT','floor','user-time','parse','getElementById','credit','/api/boxes','split','innerText','/api/solde','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:8px;\x20border:1px\x20solid\x20#ddd;\x22>','removeItem','remove','Identifiants\x20incorrects','appendChild','reg-nom','Erreur\x20:\x20l\x27élément\x20#boxes-list\x20est\x20introuvable\x20dans\x20le\x20HTML','reg-pass','innerHTML','153wKsCpq','onmessage','Compte\x20créé\x20avec\x20succès\x20!','admin-dashboard','Déconnecté\x20du\x20temps\x20réel,\x20tentative\x20de\x20reconnexion...','atob','UPDATE_TIME','numero','admin','badge_uid','99oZbbks','/api/users','createElement','hidden','175648tzBHhC','Exécution\x20de\x20la\x20fonction\x20logout...','ws://','btn-login','(((.+)+)+)+$','http://172.29.16.155:3000','token','nom','to-login'];a0_0x4c81=function(){return _0x157767;};return a0_0x4c81();}async function login(){const _0x17f12b=a0_0x3f63e8,_0x57d0de=document['getElementById'](_0x17f12b(0xc0))[_0x17f12b(0xcc)],_0x318fdd=document['getElementById'](_0x17f12b(0xb5))[_0x17f12b(0xcc)];try{const _0x1d2a9a=await fetch(API_URL+_0x17f12b(0xd4),{'method':_0x17f12b(0xd5),'headers':{'Content-Type':_0x17f12b(0xb0)},'body':JSON['stringify']({'username':_0x57d0de,'password':_0x318fdd})}),_0x43cf15=await _0x1d2a9a[_0x17f12b(0x119)]();_0x1d2a9a['ok']&&_0x43cf15[_0x17f12b(0x10b)]?(localStorage['setItem'](_0x17f12b(0x10b),_0x43cf15[_0x17f12b(0x10b)]),location[_0x17f12b(0xb6)]()):alert(_0x43cf15[_0x17f12b(0xc5)]||_0x17f12b(0xf1));}catch(_0x4ac498){alert('Impossible\x20de\x20contacter\x20le\x20serveur\x20sur\x20le\x20port\x203000');}}async function fetchSolde(){const _0x30211e=a0_0x3f63e8,_0x34e02c=localStorage[_0x30211e(0xc4)](_0x30211e(0x10b));try{const _0x26a48f=await fetch(API_URL+_0x30211e(0xed),{'headers':{'Authorization':_0x30211e(0xdf)+_0x34e02c}});if(_0x26a48f['ok']){const _0x193056=await _0x26a48f[_0x30211e(0x119)]();document['getElementById'](_0x30211e(0xe6))[_0x30211e(0xec)]=formatTime(_0x193056[_0x30211e(0xe9)]),document[_0x30211e(0xe8)](_0x30211e(0xd8))[_0x30211e(0xec)]=_0x193056[_0x30211e(0x10c)];}}catch(_0x2301df){console[_0x30211e(0xc5)]('Erreur\x20récupération\x20solde');}}function initUI(){const _0x162a73=a0_0x3f63e8,_0x2917ce=localStorage[_0x162a73(0xc4)](_0x162a73(0x10b));if(!_0x2917ce)return;const _0x272bb6=getPayload(_0x2917ce);if(!_0x272bb6)return;document['getElementById'](_0x162a73(0xdc))[_0x162a73(0xe1)][_0x162a73(0xb2)]('hidden');const _0x1a19f2=document['getElementById'](_0x162a73(0xc1));if(_0x1a19f2)_0x1a19f2[_0x162a73(0xe1)][_0x162a73(0xb2)](_0x162a73(0x104));_0x272bb6[_0x162a73(0xff)]===0x1?(document['getElementById'](_0x162a73(0xfa))[_0x162a73(0xe1)][_0x162a73(0xf0)](_0x162a73(0x104)),document[_0x162a73(0xe8)](_0x162a73(0xbe))[_0x162a73(0xec)]=_0x272bb6['username']):(document['getElementById'](_0x162a73(0xc2))['classList'][_0x162a73(0xf0)]('hidden'),document['getElementById']('user-name')[_0x162a73(0xec)]=_0x272bb6[_0x162a73(0xe2)],fetchSolde());}async function fetchUsers(){const _0x14b102=a0_0x3f63e8,_0x1c8d92=localStorage[_0x14b102(0xc4)](_0x14b102(0x10b));try{const _0x4c408=await fetch(API_URL+_0x14b102(0x102),{'headers':{'Authorization':_0x14b102(0xdf)+_0x1c8d92}}),_0x17cdbf=await _0x4c408[_0x14b102(0x119)](),_0x1845be=document[_0x14b102(0xe8)]('users-list');if(!_0x1845be)return;_0x1845be[_0x14b102(0xf6)]='',_0x17cdbf[_0x14b102(0xcd)](_0x4c3022=>{const _0x5788e6=_0x14b102,_0x37285e=document[_0x5788e6(0x103)]('tr');_0x37285e[_0x5788e6(0xf6)]=_0x5788e6(0xee)+_0x4c3022[_0x5788e6(0x10c)]+_0x5788e6(0xd1)+_0x4c3022['prenom']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:8px;\x20border:1px\x20solid\x20#ddd;\x20font-family:\x20monospace;\x22>'+_0x4c3022[_0x5788e6(0x100)]+_0x5788e6(0xcf),_0x1845be['appendChild'](_0x37285e);});}catch(_0x248f0d){console[_0x14b102(0xc5)](_0x14b102(0xd0),_0x248f0d);}}window[a0_0x3f63e8(0xbf)]=()=>{const _0x5208e2=a0_0x3f63e8;initUI(),document[_0x5208e2(0xd6)](_0x5208e2(0xd9),_0x48cb08=>{const _0xd83c46=_0x5208e2;_0x48cb08['target']&&_0x48cb08[_0xd83c46(0x114)][_0xd83c46(0xe1)][_0xd83c46(0xce)]('btn-logout')&&(_0x48cb08[_0xd83c46(0xe3)](),console[_0xd83c46(0xb4)](_0xd83c46(0xe4)),logout()),_0x48cb08[_0xd83c46(0x114)]['id']===_0xd83c46(0x108)&&(_0x48cb08[_0xd83c46(0xe3)](),login());}),document[_0x5208e2(0xe8)](_0x5208e2(0x118))?.[_0x5208e2(0xd6)](_0x5208e2(0xd9),_0x98ca80=>{const _0xb188b1=_0x5208e2;_0x98ca80['preventDefault'](),document[_0xb188b1(0xe8)](_0xb188b1(0xdc))[_0xb188b1(0xe1)][_0xb188b1(0xb2)](_0xb188b1(0x104)),document[_0xb188b1(0xe8)](_0xb188b1(0xc1))[_0xb188b1(0xe1)][_0xb188b1(0xf0)](_0xb188b1(0x104));}),document[_0x5208e2(0xe8)](_0x5208e2(0x10d))?.['addEventListener'](_0x5208e2(0xd9),_0x153e4d=>{const _0xd6000c=_0x5208e2;_0x153e4d[_0xd6000c(0xe3)](),document['getElementById'](_0xd6000c(0xc1))[_0xd6000c(0xe1)]['add']('hidden'),document['getElementById']('login-form')['classList'][_0xd6000c(0xf0)](_0xd6000c(0x104));});};function a0_0x5a0c(_0x31ccf8,_0x57cec3){_0x31ccf8=_0x31ccf8-0xac;const _0xaad95d=a0_0x4c81();let _0x53c679=_0xaad95d[_0x31ccf8];return _0x53c679;}function setupRealtime(){const _0x32f26d=a0_0x3f63e8,_0xd387b7=new WebSocket(_0x32f26d(0x107)+window['location']['hostname']+_0x32f26d(0xde));_0xd387b7['onopen']=()=>{const _0x22aeed=_0x32f26d;console['log'](_0x22aeed(0x10f)),_0xd387b7[_0x22aeed(0x115)](_0x22aeed(0xd2));},_0xd387b7[_0x32f26d(0xf8)]=_0x31f34e=>{const _0x3dfc3a=_0x32f26d,_0x12f25a=JSON['parse'](_0x31f34e[_0x3dfc3a(0x111)]);_0x12f25a[_0x3dfc3a(0xaf)]===_0x3dfc3a(0xfd)&&(console[_0x3dfc3a(0xb4)](_0x3dfc3a(0xcb)),fetchSolde());},_0xd387b7['onclose']=()=>{const _0x496a2f=_0x32f26d;console[_0x496a2f(0xb4)](_0x496a2f(0xfb)),setTimeout(setupRealtime,0x1388);};}function initUI(){const _0x27f8d3=a0_0x3f63e8,_0x2623c8=localStorage[_0x27f8d3(0xc4)](_0x27f8d3(0x10b));if(!_0x2623c8)return;const _0x213e25=getPayload(_0x2623c8);document[_0x27f8d3(0xe8)](_0x27f8d3(0xdc))['classList'][_0x27f8d3(0xb2)](_0x27f8d3(0x104)),_0x213e25&&_0x213e25[_0x27f8d3(0xff)]===0x1?(document[_0x27f8d3(0xe8)](_0x27f8d3(0xfa))[_0x27f8d3(0xe1)][_0x27f8d3(0xf0)](_0x27f8d3(0x104)),document[_0x27f8d3(0xe8)](_0x27f8d3(0xbe))[_0x27f8d3(0xec)]=_0x213e25[_0x27f8d3(0xe2)],fetchBoxes(),fetchUsers()):(document[_0x27f8d3(0xe8)]('user-dashboard')['classList'][_0x27f8d3(0xf0)](_0x27f8d3(0x104)),document[_0x27f8d3(0xe8)](_0x27f8d3(0xd8))['innerText']=_0x213e25[_0x27f8d3(0xe2)]);}async function fetchBoxes(){const _0x373ddf=a0_0x3f63e8,_0x4effe6=localStorage['getItem'](_0x373ddf(0x10b));try{const _0x917339=await fetch(_0x373ddf(0xea),{'headers':{'Authorization':'Bearer\x20'+_0x4effe6}}),_0x4e0648=await _0x917339[_0x373ddf(0x119)](),_0xa16c0a=document[_0x373ddf(0xe8)]('boxes-list');if(!_0xa16c0a){console[_0x373ddf(0xc5)](_0x373ddf(0xf4));return;}_0xa16c0a[_0x373ddf(0xf6)]='',_0x4e0648[_0x373ddf(0xcd)](_0x487d59=>{const _0x128f00=_0x373ddf,_0x5a312c=document[_0x128f00(0x103)]('tr'),_0x37c08c=_0x487d59[_0x128f00(0xca)]==='LIBRE'?_0x128f00(0x112):_0x128f00(0xc7);_0x5a312c['innerHTML']=_0x128f00(0xee)+_0x487d59[_0x128f00(0xfe)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:8px;\x20border:1px\x20solid\x20#ddd;\x20color:'+_0x37c08c+';\x20font-weight:bold;\x22>'+_0x487d59['etat']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:8px;\x20border:1px\x20solid\x20#ddd;\x22>'+(_0x487d59[_0x128f00(0xc6)]||'<i>Aucun</i>')+_0x128f00(0xcf),_0xa16c0a[_0x128f00(0xf2)](_0x5a312c);});}catch(_0x1e51f8){console['error'](_0x373ddf(0xc8),_0x1e51f8);}}async function logout(){const _0x23d69d=a0_0x3f63e8;console[_0x23d69d(0xb4)](_0x23d69d(0x106));try{await fetch(API_URL+_0x23d69d(0xc3),{'method':_0x23d69d(0xd5)});}catch(_0x1846e5){console[_0x23d69d(0x113)](_0x23d69d(0xbb),_0x1846e5);}finally{localStorage[_0x23d69d(0xef)](_0x23d69d(0x10b)),console['log'](_0x23d69d(0xda)),window['location']['href']=_0x23d69d(0xad);}}